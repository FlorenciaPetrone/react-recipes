(this["webpackJsonpreact-recipes"]=this["webpackJsonpreact-recipes"]||[]).push([[0],{40:function(e,t,n){},43:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(31),r=n.n(c),i=n(2),s=(n(40),n(4)),l=n.n(s),o=n(12),u=n(6),j=n(0),b=function(e){var t=e.submitHandler,n=e.inputValue,a=e.onChangeHandler;return Object(j.jsx)("div",{className:"recipe-search-container",children:Object(j.jsxs)("form",{className:"search-form",onSubmit:t,children:[Object(j.jsx)("input",{className:"search-bar",type:"text",value:n,onChange:a,placeholder:"Find a good recipe!"}),Object(j.jsx)("button",{className:"search-button",type:"submit",disabled:""===n,children:"Search"})]})})},d=(n(43),function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(i.f)(),s=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r.push("/search?userInput=".concat(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"home-container",children:Object(j.jsx)("div",{className:"image-container",children:Object(j.jsxs)("div",{className:"inputs-link-container",children:[Object(j.jsx)(b,{inputValue:n,onChangeHandler:function(e){c(e.target.value)},submitHandler:s}),Object(j.jsx)("div",{className:"link-container",children:Object(j.jsx)("a",{href:"/search",children:"Advanced Search"})})]})})})}),m=n(33),h=n.n(m),f="6ce4ba2828054da3930808a2db423f1e",O=function(){var e=Object(o.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://api.spoonacular.com/recipes/complexSearch?apiKey=".concat(f),{params:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(o.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.spoonacular.com/recipes/".concat(t,"/information?apiKey=").concat(f,"&includeNutrition=true"));case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=(n(67),function(){var e=Object(a.useState)(),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(i.g)().pathname.slice(8),s=Object(a.useRef)(null),b=function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(r);case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log(n),Object(a.useEffect)((function(){b()}),[]),Object(a.useEffect)((function(){n&&s.current&&(s.current.innerHTML=n.summary)}),[n]);return Object(j.jsxs)("div",{className:"recipe-details-container",children:[Object(j.jsxs)("h1",{children:[null===n||void 0===n?void 0:n.title," "]}),Object(j.jsx)("img",{src:null===n||void 0===n?void 0:n.image}),Object(j.jsxs)("div",{className:"all",children:[Object(j.jsxs)("div",{className:"summary-container",children:[Object(j.jsx)("h2",{children:"SUMMARY"}),Object(j.jsx)("p",{ref:s})]}),Object(j.jsxs)("div",{className:"diet-information",children:[(null===n||void 0===n?void 0:n.vegan)?Object(j.jsx)("i",{className:"far fa-check-circle",children:"Vegan"}):Object(j.jsx)("i",{className:"far fa-times-circle",children:"Vegan"}),Object(j.jsx)("br",{}),(null===n||void 0===n?void 0:n.vegetarian)?Object(j.jsx)("i",{className:"far fa-check-circle",children:"Vegetarian"}):Object(j.jsx)("i",{className:"far fa-times-circle",children:"Vegetarian"}),Object(j.jsx)("br",{}),(null===n||void 0===n?void 0:n.glutenFree)?Object(j.jsx)("i",{className:"far fa-check-circle",children:"GlutenFree"}):Object(j.jsx)("i",{className:"far fa-times-circle",children:"GlutenFree"})]}),Object(j.jsxs)("div",{className:"ingredients-container",children:[Object(j.jsx)("h2",{children:"INGREDIENTS"}),Object(j.jsx)("ul",{children:null===n||void 0===n?void 0:n.extendedIngredients.map((function(e){var t=e.id,n=e.originalString;return Object(j.jsx)("li",{children:Object(j.jsx)("p",{children:n})},t)}))})]}),Object(j.jsxs)("div",{className:"instructions-container",children:[Object(j.jsx)("h2",{children:"INSTRUCTIONS"}),Object(j.jsx)("ul",{children:function(){var e;return null===n||void 0===n||null===(e=n.analyzedInstructions)||void 0===e?void 0:e[0].steps.map((function(e){var t=e.number,n=e.length,a=e.step;return Object(j.jsxs)("li",{children:[Object(j.jsx)("h3",{className:"step-number",children:t}),n&&Object(j.jsx)("h5",{className:"step-duration",children:n.number+n.unit}),Object(j.jsx)("p",{className:"step-description",children:a})]},t)}))}()})]})]})]})}),x=n(17),g=n(11),N=n(9),S=function(e){var t=e.id,n=e.title,a=e.image;return Object(j.jsxs)("div",{className:"recipe-container",children:[Object(j.jsx)("img",{src:a,alt:n}),Object(j.jsx)(N.b,{to:"/recipe/".concat(t),className:"recipe-link",children:Object(j.jsx)("h1",{children:n})},t)]})},k=[{name:"cuisine",title:"Cuisine",options:[{name:"German",value:"German"},{name:"African",value:"African"},{name:"Italian",value:"Italian"},{name:"Latin American",value:"Latin American"}]},{name:"diet",title:"Diet",options:[{name:"Gluten Free",value:"Gluten Free"},{name:"Ketogenic",value:"Ketogenic"},{name:"Vegetarian",value:"Vegetarian"},{name:"Lacto-Vegetarian",value:"Lacto-Vegetarian"},{name:"Ovo-Vegetarian",value:"Ovo-Vegetarian"},{name:"Vegan",value:"Vegan"},{name:"Pescetarian",value:"Pescetarian"},{name:"Paleo",value:"Paleo"},{name:"Primal",value:"Primal"},{name:"Whole30",value:"Whole30"}]},{name:"intolerances",title:"Intolerances",options:[{name:"Dairy",value:"Dairy"},{name:"Egg",value:"Egg"},{name:"Gluten",value:"Gluten"},{name:"Grain",value:"Grain"},{name:"Peanut",value:"Peanut"},{name:"Seafood",value:"Seafood"},{name:"Sesame",value:"Sesame"},{name:"Shellfish",value:"Shellfish"},{name:"Soy",value:"Soy"},{name:"Sulfite",value:"Sulfite"},{name:"Tree Nut",value:"Tree Nut"},{name:"Wheat",value:"Wheat"}]}],y=n(34),w=function(e){var t=e.name,n=e.title,c=e.options,r=e.onChange,i=e.selectedFilters,s=Object(a.useState)(!1),l=Object(u.a)(s,2),o=l[0],b=l[1],d=Object(a.useState)([]),m=Object(u.a)(d,2),h=m[0],f=m[1];Object(a.useEffect)((function(){if(i){var e=i.split(", ");f(e)}}),[]);var O=function(e){var n;n=h.includes(e)?h.filter((function(t){return t!==e})):[].concat(Object(y.a)(h),[e]),f(n),r(t,function(e){var t="";return e.forEach((function(n,a){t+=n,e.length-1!==a&&(t+=", ")})),t}(n))},v=function e(){o&&b(!o),document.removeEventListener("click",e)};return Object(j.jsxs)("div",{className:"select-container",onMouseLeave:function(){document.addEventListener("click",v)},children:[Object(j.jsxs)("div",{className:"value-container".concat(o?"-open":""),onClick:function(){return b(!o)},children:[Object(j.jsx)("span",{children:n}),Object(j.jsx)("i",{className:"fas fa-chevron-".concat(o?"up":"down")})]}),o&&Object(j.jsx)("div",{className:"options-container",children:c.map((function(e,t){var n=e.name,a=e.value;return Object(j.jsx)("div",{className:"option-container",onClick:function(){return O(a)},children:Object(j.jsxs)("span",{children:[n,h.includes(a)&&Object(j.jsx)("i",{className:"fas fa-check"})]})},t)}))})]})},C=function(e){var t=e.submitHandler,n=e.inputValue,a=e.onChangeHandler,c=e.onChange,r=e.selectedFilters;return Object(j.jsxs)("div",{className:"advanced-search-container",children:[Object(j.jsx)(b,{inputValue:n,onChangeHandler:a,submitHandler:t}),Object(j.jsx)("div",{className:"filters-container",children:k.map((function(e){var t=e.name,n=e.title,a=e.options;return Object(j.jsx)(w,{name:t,title:n,options:a,onChange:c,selectedFilters:r&&r.name},t)}))})]})},V=n(35),P=(n(68),function(e){var t=e.number,n=e.offset,a=e.totalResults,c=Object(V.a)(e,["number","offset","totalResults"]),r=0===n?1:Math.floor(n/t)+1,i=Math.floor((a-n)/t);return Object(j.jsxs)("div",{className:"pagination-container",children:[Object(j.jsx)("button",{disabled:1===r,className:"button-hover",onClick:function(){return c.changePage("previous")},children:"Previous"}),1!==r&&Object(j.jsx)("button",{className:"pagination-button",disabled:!0,children:r-1}),Object(j.jsx)("button",{disabled:!0,className:"current-page pagination-button",children:r}),i>0&&Object(j.jsx)("button",{disabled:!0,className:"pagination-button",children:r+1}),i-1>0&&Object(j.jsx)("p",{children:"..."}),i-1>0&&Object(j.jsx)("p",{children:i-1}),Object(j.jsx)("button",{disabled:0===i,className:"button-hover pagination-button",onClick:function(){return c.changePage("next")},children:"Next"})]})}),I=(n(69),function(){var e=Object(i.g)(),t=new URLSearchParams(e.search).get("userInput"),n=Object(a.useState)([]),c=Object(u.a)(n,2),r=c[0],s=c[1],b=Object(a.useState)(),d=Object(u.a)(b,2),m=d[0],h=d[1],f=Object(a.useState)(t||""),v=Object(u.a)(f,2),p=v[0],N=v[1],k=Object(a.useState)({query:t||"",offset:0,number:20}),y=Object(u.a)(k,2),w=y[0],V=y[1],I=Object(a.useState)(),E=Object(u.a)(I,2),F=E[0],H=E[1];console.log(w);var G=function(){var e=Object(o.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(Object(g.a)(Object(g.a)({},w),m));case 2:t=e.sent,s(t.results),n={offset:t.offset,number:t.number,totalResults:t.totalResults},H(n),a=Object(g.a)(Object(g.a)({},w),m),localStorage.setItem("previousConfig",JSON.stringify(a));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e=localStorage.getItem("previousConfig");e&&(V({query:e.query,offset:e.query,number:e.number}),h({cuisine:e.cuisine,diet:e.diet,intolerances:e.intolerances}))}),[]),Object(a.useEffect)((function(){""!==w.query&&G()}),[w,m]);return Object(j.jsx)("div",{className:"search-container",children:Object(j.jsxs)("div",{className:"image-search-container",children:[Object(j.jsx)(C,{inputValue:p,onChangeHandler:function(e){N(e.target.value)},submitHandler:function(e){e.preventDefault(),V(Object(g.a)(Object(g.a)({},w),{},{query:p}))},onChange:function(e,t){var n=Object(g.a)(Object(g.a)({},m),{},Object(x.a)({},e,t));h(n)},selectedFilters:m}),Object(j.jsx)("div",{className:"recipes-list-container",children:r.map((function(e){return Object(j.jsx)(S,{id:e.id,recipe:e,title:e.title,image:e.image},e.id)}))}),F&&Object(j.jsx)(P,{number:F.number,offset:F.offset,totalResults:F.totalResults,changePage:function(e){var t="next"===e?w.offset+w.number:w.offset-w.number,n=Object(g.a)(Object(g.a)({},w),{},{offset:t});V(n)}})]})})}),E=function(){return Object(j.jsxs)("div",{className:"navbar-container",children:[Object(j.jsx)(N.b,{to:"/",className:"home-icon",children:Object(j.jsx)("i",{className:"fas fa-utensils fa-2x"})}),Object(j.jsxs)("div",{className:"links-container",children:[Object(j.jsx)(N.b,{to:"/",className:"home-button",children:"Home"}),Object(j.jsx)(N.b,{to:"/search",className:"search-button",children:"Search"})]}),Object(j.jsxs)("div",{className:"social-media-container",children:[Object(j.jsx)("a",{href:"https://github.com/FlorenciaPetrone",target:"_blank",children:Object(j.jsx)("i",{className:"fab fa-github-square fa-1x","aria-hidden":"true"})}),Object(j.jsx)("a",{href:"https://www.linkedin.com/in/florencia-petrone/",target:"_blank",children:Object(j.jsx)("i",{className:"fab fa-linkedin fa-1x","aria-hidden":"true"})})]})]})},F=function(){return Object(j.jsx)("div",{className:"footer-container",children:Object(j.jsxs)("div",{className:"social-media-container",children:[Object(j.jsx)("a",{href:"https://github.com/FlorenciaPetrone",target:"_blank",children:Object(j.jsx)("i",{className:"fab fa-github-square fa-1x","aria-hidden":"true"})}),Object(j.jsx)("a",{href:"https://www.linkedin.com/in/florencia-petrone/",target:"_blank",children:Object(j.jsx)("i",{className:"fab fa-linkedin fa-1x","aria-hidden":"true"})})]})})},H=function(){return Object(j.jsxs)("div",{className:"app-container",children:[Object(j.jsx)(E,{}),Object(j.jsx)("div",{className:"body-container",children:Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{exact:!0,path:"/",component:d}),Object(j.jsx)(i.a,{exact:!0,path:"/search",component:I}),Object(j.jsx)(i.a,{exact:!0,path:"/recipe/:id",component:p})]})}),Object(j.jsx)(F,{})]})};r.a.render(Object(j.jsx)(N.a,{children:Object(j.jsx)(H,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.3938bc54.chunk.js.map